// build time:Sat Apr 11 2020 16:41:24 GMT+0800 (GMT+08:00)
(function(o){"use strict";function t(o){this.config=o}t.prototype.setup=function(){this.navbar();this.responsiveTable();if(this.config.toc){this.scrollToc();this.tocFollow()}if(this.config.fancybox){this.fancybox()}if(this.config.pjax){this.pjax()}if(this.config.latex){this.renderLaTeX()}this.backToTop()};t.prototype.navbar=function(){var o=$("#mobile-navbar");var t=$(".mobile-navbar-icon");var e=new Slideout({panel:document.getElementById("mobile-panel"),menu:document.getElementById("mobile-menu"),padding:180,tolerance:70});e.disableTouch();t.click(function(){e.toggle()});e.on("beforeopen",function(){o.addClass("fixed-open");t.addClass("icon-click").removeClass("icon-out")});e.on("beforeclose",function(){o.removeClass("fixed-open");t.addClass("icon-out").removeClass("icon-click")});$("#mobile-panel").on("touchend",function(){e.isOpen()&&t.click()})};t.prototype.responsiveTable=function(){var o=$(".post-content > table");o.wrap('<div class="table-responsive">')};t.prototype.scrollToc=function(){var t=20;var e=$(".post-toc");var n=$(".post-footer");if(e.length){var a=e.offset().top-t;var i=n.offset().top-e.height()-t;var c={start:{position:"absolute",top:a},process:{position:"fixed",top:t},end:{position:"absolute",top:i}};$(o).scroll(function(){var t=$(o).scrollTop();if(t<a){e.css(c.start)}else if(t>i){e.css(c.end)}else{e.css(c.process)}})}};t.prototype.tocFollow=function(){var t=30;var e=$(".toc-link"),n=$(".headerlink");$(o).scroll(function(){var a=$.map(n,function(o){return $(o).offset().top});var i=$(o).scrollTop();for(var c=0;c<e.length;c++){var s=c+1===e.length,r=a[c]-t,l=s?Infinity:a[c+1]-t;if(r<i&&i<=l){$(e[c]).addClass("active")}else{$(e[c]).removeClass("active")}}})};t.prototype.fancybox=function(){if($.fancybox){$(".post").each(function(){$(this).find("img").each(function(){var o='href="'+this.src+'"';var t='title="'+this.alt+'"';$(this).wrap('<a class="fancybox" '+o+" "+t+"></a>")})});$(".fancybox").fancybox({openEffect:"elastic",closeEffect:"elastic"})}};t.prototype.pjax=function(){if(location.hostname==="localhost"||this.hasPjax)return;this.hasPjax=true;this._fancybox=$.fancybox;this._fancyboxProto=$.prototype.fancybox;var o=this;$(document).pjax("a","body",{fragment:"body"});$(document).on("pjax:send",function(){NProgress.start();$("body").addClass("hide-top")});$(document).on("pjax:complete",function(){NProgress.done();$("body").removeClass("hide-top");$.fancybox=o._fancybox;$.prototype.fancybox=o._fancyboxProto;o.setup()})};t.prototype.backToTop=function(){var t=$("#back-to-top");$(o).scroll(function(){if($(o).scrollTop()>100){t.fadeIn(1e3)}else{t.fadeOut(1e3)}});t.click(function(){$("body,html").animate({scrollTop:0})})};t.prototype.renderLaTeX=function(){var t=setInterval(function(){if(o.MathJax){var e=o.MathJax;e.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}});e.Hub.Queue(["Typeset",e.Hub,$(document.body)[0]]);clearInterval(t)}},500)};var e=o.config;var n=new t(e);n.setup()})(window);
//rebuild by neat 